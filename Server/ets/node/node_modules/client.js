
/* This object represent a connected client */

var Client = function(socket) {
  this.socket = socket;
  this.data = {};
}

Client.prototype.set = function(key, val) {
  this.data[key] = val;
}

Client.prototype.get = function(key) {
  return this.data[key];
}

Client.prototype.send = function(data) {
  if (!this.socket) {
    return;
  }
  this.socket.write(JSON.stringify(data));
}

Client.prototype.sendError = function(error, logger) {
  this.socket.write(JSON.stringify({topic: 'error', params: {error: error}}));
  logger.error(error);
  this.socket.close();
}

exports.Client = Client;